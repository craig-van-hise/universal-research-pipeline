
# Product Requirements Prompt: UI Polish & Layout Fix for ScholarStack

**Role:** Senior Streamlit Frontend Engineer
**Objective:** Fix the misaligned header, remove the aggressive "red/danger" aesthetic, and implement a modern "Gen Z" student-friendly UI without relying on unstable `config.toml` reloading.

## 1. Context & Problem

* **Current State:** The header elements (Logo vs. Google Login button) are vertically misaligned. The login button floats awkwardly. The primary action button is "Red," signaling danger instead of action.
* **Target State:** A "Navbar-style" header where the logo and login button are perfectly vertically centered. The primary button should be "Blurple" (Electric Purple). The layout should feel like a modern SaaS app (e.g., Notion, Gumroad).

## 2. Technical Implementation Requirements

### A. The "Force-Fix" CSS Injection

Since `config.toml` is not reliably updating, you must inject the following CSS styles using `st.markdown(..., unsafe_allow_html=True)` at the very top of `main()`:

1. **Force Purple Buttons:** Target `button[kind="primary"]` to use background color `#6C63FF` (Purple) instead of default red.
2. **Pill-Shape Buttons:** Set `border-radius: 20px` for all buttons to remove the blocky enterprise look.
3. **Clean Header:** Set `.block-container { padding-top: 1.5rem; }` to push the content up, simulating a navigation bar.
4. **Hide Clutter:** Set `.stDeployButton { display: none; }` to hide the "Deploy" button.

### B. The "Navbar" Layout (Critical Alignment Fix)

Refactor the top of the app to use `st.columns` with the `vertical_alignment` parameter (Streamlit 1.31+ feature).

* **Layout Logic:**
```python
# Use vertical_alignment="center" to fix the offset issue
col_brand, col_spacer, col_auth = st.columns([2, 2, 1.2], vertical_alignment="center")

```


* **Left Column (`col_brand`):**
* Render "ðŸ“š ScholarStack" as an `<h2>` (or large Markdown).
* Render "Your AI Research Librarian" as a caption immediately below.


* **Right Column (`col_auth`):**
* Render the Google Sign-in button here.
* **Style:** Use `type="secondary"` (default gray/white) for this button so it doesn't compete with the main action.
* **Action:** If logged in, show a `st.popover` with the user's initial (e.g., "ðŸ‘¤ J").



### C. The Hero Section (Main Action)

* **Layout:** Create a new container/column set below the divider for the main action.
* **Primary Button:** Create a "Start Mission" button.
* **MUST** be `type="primary"` (which our CSS will turn purple).
* **MUST** use `use_container_width=True` to look like a mobile app button.


* **Status Indicators:** Replace the static blue `st.info` box with a `st.status` widget that expands only when the mission is running.

## 3. Code Structure (Copy-Paste Reference)

The agent should generate code following this structure:

```python
def main():
    # 1. INJECT CSS (The "Hotfix")
    st.markdown("""
        <style>
            /* Force Primary Button to Purple */
            button[kind="primary"] {
                background-color: #6C63FF !important;
                border: none !important; 
            }
            /* Pill shaped buttons */
            div.stButton > button {
                border-radius: 20px;
            }
            /* Align columns content to center */
            [data-testid="column"] {
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
        </style>
    """, unsafe_allow_html=True)

    # 2. HEADER WITH VERTICAL ALIGNMENT
    with st.container():
        # vertical_alignment="center" is the key fix
        col_brand, col_spacer, col_auth = st.columns([2, 1, 1], vertical_alignment="center")
        
        with col_brand:
            st.markdown("## ðŸ“š ScholarStack")
            st.caption("Your AI Research Librarian")
            
        with col_auth:
            # Login button floats right
            st.button("G Sign in with Google", use_container_width=True)

    st.divider()

    # 3. HERO SECTION
    col_hero_left, col_hero_center, col_hero_right = st.columns([1, 2, 1])
    with col_hero_center:
        st.write("") # Spacer
        if st.button("ðŸš€ Start Mission", type="primary", use_container_width=True):
            # Logic here
            pass

```